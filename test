
import json

def get_role_for_id(json_data, target_id):
    """
    Cette fonction prend en entrée un dictionnaire JSON et un ID cible.
    Elle retourne le rôle associé à cet ID dans les droits utilisateur.
    
    :param json_data: dict, les données JSON.
    :param target_id: int, l'ID cible.
    :return: str ou None, le rôle associé à l'ID ou None si non trouvé.
    """
    for right in json_data.get("user_rights", []):
        if right.get("app_id") == target_id:
            return right.get("role")
    return None

# Exemple d'utilisation :
data = {
    "nbt": "xxx_594092",
    "exp": "xxx_594092",
    "iss": "xxxxx",
    "user_login": "xxxxx",
    "first_name": "xxxxx",
    "last_name": "xxxxx",
    "isManager": True,
    "isAdmin": True,
    "user_rights": [
        {"app_id": 12, "app_name": "datalake-exm", "role": "user"},
        {"app_id": 12, "app_name": "datalake-exm", "role": "user"},
    ]
}

role = get_role_for_id(data, 12)
print("Rôle trouvé:", role)