
const getIframeContent = () => {
  if (iframeRef && iframeRef.contentDocument) {
    const iframeDoc = iframeRef.contentDocument; // Accéder au document de l'iframe

    // Parcourir tous les champs du formulaire
    const inputs = iframeDoc.querySelectorAll('input, textarea, select');
    inputs.forEach(input => {
      if (input.tagName === 'SELECT') {
        // Gérer les <select>
        const options = input.querySelectorAll('option');
        options.forEach(option => {
          if (option.value === input.value) {
            // Marquer l'option sélectionnée
            option.setAttribute('selected', 'true');
          } else {
            option.removeAttribute('selected');
          }
        });
      } else if (input.type === 'checkbox' || input.type === 'radio') {
        // Gérer les cases à cocher et boutons radio
        if (input.checked) {
          input.setAttribute('checked', 'true');
        } else {
          input.removeAttribute('checked');
        }
      } else {
        // Gérer les autres types d'inputs
        input.setAttribute('value', input.value);
      }
    });

    // Récupérer tout le HTML (formulaire avec données mises à jour)
    iframeContent = iframeDoc.documentElement.outerHTML;
    console.log('Contenu mis à jour de l\'iframe:', iframeContent);
  } else {
    console.error('Impossible d\'accéder au contenu de l\'iframe.');
  }
};