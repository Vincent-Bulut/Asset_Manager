
from sqlalchemy import func

def get_sum_time_value(self, trader_id, month, year):
    sum_time_value = (
        self.session.query(func.sum(TraderTimes.time_value))
        .filter(
            TraderTimes.id_trader == trader_id,
            TraderTimes.time_month == month,
            TraderTimes.time_year == year
        )
        .scalar()
    )
    return sum_time_value